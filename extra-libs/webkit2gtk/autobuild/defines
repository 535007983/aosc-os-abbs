PKGNAME=webkit2gtk
PKGSEC=gnome
PKGDEP="libxslt sqlite libsoup enchant geoclue2 gst-plugins-base-1-0 libsecret libwebp gtk-3 gtk-2 hyphen icu libnotify"
BUILDDEP="cmake gtk-doc gperf gobject-introspection ruby"
PKGDES="GTK+ Web content engine library, webkit2gtk"

CMAKE_AFTER="-DPORT=GTK -DENABLE_GTKDOC=ON -DLIB_INSTALL_DIR=/usr/lib \
             -DENABLE_GLES2=ON -DUSE_SYSTEM_MALLOC=ON \
             -DENABLE_GTKDOC=ON"
case "${CROSS:-$ARCH}" in
mipsel|armel|arm64)
    CMAKE_AFTER+=" -DENABLE_JIT=OFF"
    ;;
*)
    CMAKE_AFTER+=" -DENABLE_JIT=ON"
    ;;
esac

if [[ "${CROSS:-$ARCH}" != "amd64" ]]; then
    USECLANG=no
else
    USECLANG=yes
fi
