--- a/sys/linux/main.cpp	2013-08-05 04:21:19.000000000 +0800
+++ b/sys/linux/main.cpp	2017-08-18 16:24:12.075087906 +0800
@@ -25,6 +25,7 @@
 #include <errno.h>
 #include <unistd.h>
 #include <sys/stat.h>
+#include <sys/time.h>
 #include <sys/types.h>
 #include <fcntl.h>
 
@@ -285,22 +286,9 @@
 ===============
 */
 double Sys_GetClockTicks( void ) {
-#if defined( __i386__ )
-	unsigned long lo, hi;
-
-	__asm__ __volatile__ (
-						  "push %%ebx\n"			\
-						  "xor %%eax,%%eax\n"		\
-						  "cpuid\n"					\
-						  "rdtsc\n"					\
-						  "mov %%eax,%0\n"			\
-						  "mov %%edx,%1\n"			\
-						  "pop %%ebx\n"
-						  : "=r" (lo), "=r" (hi) );
-	return (double) lo + (double) 0xFFFFFFFF * hi;
-#else
-#error unsupported CPU
-#endif
+	struct timespec now;
+	clock_gettime( CLOCK_MONOTONIC, &now );
+	return now.tv_sec * 1000000000LL + now.tv_nsec;
 }
 
 /*
